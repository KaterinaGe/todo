(this["webpackJsonpmy-app-2"]=this["webpackJsonpmy-app-2"]||[]).push([[0],{118:function(e,t,n){},205:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(30),s=n.n(c),o=(n(118),n(32)),u=n.n(o),i=n(46),l=n(27),d=(n(38),n(7));var p=function(e){var t=e.editText,n=e.setEdit,r=e.todo,c=Object(a.useState)(r.name),s=Object(l.a)(c,2),o=s[0],u=s[1],i=function(e){e.preventDefault(),t(r.uuid,o,r.done),n(!1)},p=function(e){u(e.currentTarget.value),"Enter"===e.key&&(e.preventDefault(),""!==o.trim()&&i(e)),"Escape"===e.key&&n(!1)};return Object(d.jsx)("form",{onSubmit:i,className:"enter",children:Object(d.jsx)("input",{value:o,type:"text",onBlur:function(){n(!1)},onChange:p,onKeyDown:p,className:"edit",ref:function(e){return e&&e.focus()}})})},j=n(208),f=n(212),h=n(109);var b=function(e){var t=e.todo,n=e.removeTask,r=e.completeTodo,c=e.editText,s=Object(a.useState)(!1),o=Object(l.a)(s,2),u=o[0],i=o[1];return Object(d.jsxs)(j.a,{className:"task",children:[Object(d.jsx)(f.a,{className:"check",todo:t,onChange:function(){return r(t,t.done,!t.done)},checked:t.done}),Object(d.jsx)("div",{className:"todo",onDoubleClick:function(){return i(!0)},children:u?Object(d.jsx)(p,{todo:t,defaultValue:t.name,setEdit:i,editText:c}):t.name}),Object(d.jsx)("div",{children:t.createdAt.slice(0,10)}),Object(d.jsx)(h.a,{className:"remove",onClick:function(){return n(t.uuid)},children:"X"})]})},v=n(210);var m=function(e){var t=e.addTask,n=e.filteredTodos,r=Object(a.useState)(""),c=Object(l.a)(r,2),s=c[0],o=c[1],u=function(e){e.preventDefault(),""!==s.trim()&&t(s),o("")};return Object(d.jsxs)("section",{className:"enter",onSubmit:function(e){return u(e)},children:[Object(d.jsxs)("p",{className:"sum",children:[n.length," tasks"]}),Object(d.jsx)(v.a,{value:s,type:"text",onKeyPress:function(e){"Enter"===e.key&&u(e)},onChange:function(e){o(e.currentTarget.value)},placeholder:"I want to...",className:"input",autoFocus:!0,ref:function(e){return e&&e.focus()}}),Object(d.jsx)(h.a,{onClick:function(e){return u(e)},className:"save",children:"Add"})]})},O=n(211);var x=function(e){var t=e.filterBy,n=e.order,a=e.setFilterBy,r=e.setOrder;return Object(d.jsxs)("div",{className:"buttons",children:[Object(d.jsxs)(O.a.Group,{value:t,onChange:function(e){return a(e.target.value)},children:[Object(d.jsx)(O.a.Button,{value:"",children:"All"}),Object(d.jsx)(O.a.Button,{value:"done",children:"Done"}),Object(d.jsx)(O.a.Button,{value:"undone",children:"Undone"})]}),Object(d.jsx)("p",{className:"lettering",children:"Sort by date"}),Object(d.jsxs)(O.a.Group,{value:n,onChange:function(e){return r(e.target.value)},children:[Object(d.jsx)(O.a.Button,{value:"asc",children:" \\/ "}),Object(d.jsx)(O.a.Button,{value:"desc",children:" /\\ "})]})]})};var g=function(e){for(var t=e.TASK_PER_PAGE,n=e.total,a=e.paginate,r=e.prevPage,c=e.nextPage,s=e.currentPage,o=[],u=1;u<=Math.ceil(n/t);u++)o.push(u);return Object(d.jsxs)(j.a,{className:"pages",children:[Object(d.jsxs)(h.a,{className:"prevPage",onClick:r,children:[" ","<<"," "]}),Object(d.jsx)("ul",{className:"pagination",children:o.map((function(e){return Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"!#",className:s===e?"pageSelected":"page",onClick:function(){return a(e)},children:e})},e)}))}),Object(d.jsxs)(h.a,{className:"nextPage",onClick:c,children:[" ",">>"," "]})]})},k=n(209);var N=function(e){var t=e.error,n=e.errorWindow,a=e.message;return t?Object(d.jsx)(k.a,{title:"Error!",className:"error",onClick:n,children:a}):null},T=n(47),y=n.n(T);var w=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),s=Object(l.a)(c,2),o=s[0],p=s[1],j=Object(a.useState)("asc"),f=Object(l.a)(j,2),h=f[0],v=f[1],O=Object(a.useState)(1),k=Object(l.a)(O,2),T=k[0],w=k[1],S=Object(a.useState)(!1),P=Object(l.a)(S,2),B=P[0],C=P[1],E=Object(a.useState)(""),D=Object(l.a)(E,2),A=D[0],G=D[1];Object(a.useEffect)((function(){K()}),[h,o]);var K=function(){var e=Object(i.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(1),e.next=4,y.a.get("https://todo-api-learning.herokuapp.com/v1/tasks/2?filterBy=".concat(o,"&order=").concat(h));case 4:t=e.sent,r(t.data),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),G(e.t0.response.data.message),C(!0),setTimeout((function(){return C(!1)}),5e3);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,p("all"),v("sortDown"),!t){e.next=7;break}return e.next=6,y.a.post("https://todo-api-learning.herokuapp.com/v1/task/2",{name:t,done:!1});case 6:K();case 7:e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),G(e.t0.response.data.message),C(!0),setTimeout((function(){return C(!1)}),5e3);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(i.a)(u.a.mark((function e(t,n,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.patch("https://todo-api-learning.herokuapp.com/v1/task/2/".concat(t),{name:n,done:a});case 3:K(),e.next=11;break;case 6:e.prev=6,e.t0=e.catch(0),G(e.t0.response.data.message),C(!0),setTimeout((function(){return C(!1)}),5e3);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,a){return e.apply(this,arguments)}}(),M=function(){var e=Object(i.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.patch("https://todo-api-learning.herokuapp.com/v1/task/2/".concat(t.uuid),{done:!n});case 3:K(),e.next=11;break;case 6:e.prev=6,e.t0=e.catch(0),G(e.t0.response.data.message),C(!0),setTimeout((function(){return C(!1)}),5e3);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.delete("https://todo-api-learning.herokuapp.com/v1/task/2/".concat(t));case 3:r(n.filter((function(e){return e.uuid!==t}))),1===W.length&&1!==T&&w(T-1),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),G(e.t0.response.data.message),C(!0),setTimeout((function(){return C(!1)}),5e3);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),J=5*T,R=J-5,W=n.slice(R,J);return Object(d.jsxs)("div",{className:"app",children:[Object(d.jsx)("header",{children:Object(d.jsx)("h1",{className:"h1",children:"ToDo"})}),Object(d.jsx)(m,{className:"add",addTask:_,filteredTodos:n}),Object(d.jsx)(x,{setOrder:v,setFilterBy:p,filterBy:o,order:h}),W.map((function(e,t){return Object(d.jsx)(b,{completeTodo:M,todo:e,removeTask:I,className:"tasks",editText:F},t)})),n.length>5&&Object(d.jsx)(g,{currentPage:T,nextPage:function(){T!==Math.ceil(n.length/5)&&w(T+1)},prevPage:function(){1!==T&&w(T-1)},TASK_PER_PAGE:5,total:n.length,paginate:function(e){return w(e)}}),Object(d.jsx)(N,{error:B,errorWindow:function(){C(!1)},message:A})]})};s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(w,{})}),document.getElementById("root"))}},[[205,1,2]]]);
//# sourceMappingURL=main.cc748542.chunk.js.map